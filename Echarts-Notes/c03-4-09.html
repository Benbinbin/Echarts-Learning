<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>4.9 饼图</title>
  <script src="js/echarts.js"></script>
  <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
  <script src="js/chalk.js"></script>
  <script src="js/macarons8.js"></script>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
<header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="https://benbinbin.github.io/Echarts-Learning">Echarts Learning</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item ml-lg-2"><a href="https://github.com/Benbinbin/Echarts-Learning"><svg height="100%"
              viewBox="0 0 16 16" version="1.1" width="30">
              <path fill-rule="evenodd"
                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
              </path>
            </svg></a></li>
      </ul>
    </div>
  </nav>
</header>

  <aside>
    <div class="top">
      <a href="#" target="_self">&lt; top</a>
    </div>
  </aside>

  <article class="container">
    <h1>饼图</h1>
    <hr>
    <h2>饼图与环形图（嵌套）</h2>
    <div id="pieChart" style="height:600px"></div>
    <script>
      // 基于准备好的 DOM 初始化 echarts 实例
      var pieChart = echarts.init(document.getElementById('pieChart'), 'chalk');
      // 指定图表的配置项和数据

      option = {
        aria: {
          show: true
        },
        legend: {
          orient: 'vertical',   // 垂直排列多个图例
          left: 20,
        },
        series: [
          // 嵌套图形，两个系列列表，需要数据相对应（两个图的细分与总计顺序）
          // 内部饼图
          {
            name: '访问来源',
            type: 'pie',   // 图标类型为饼图
            selectedMode: 'single',   // 可选择模式，默认为 'false' 不可选，'single' 可单选，'multiple' 可多选
            radius: [0, '30%'],   // 内部饼图半径
            label: {
              position: 'inner'
            },
            data: [
              { value: 335, name: '直达', selected: true },
              { value: 679, name: '营销广告' },
              { value: 1548, name: '搜索引擎' }
            ]
          },
          // 外部环形图
          {
            name: '访问来源',
            type: 'pie',
            radius: ['40%', '55%'],   // 外部环形图半径，从 40% 开始绘制到 55%
            // 标记
            label: {
              // show: false,
            },
            // 标记线
            labelLine: {
              show: true,
              length: 25,   // 第一根标记线
              length2: 20   // 第二根标记线
            },
            data: [
              { value: 335, name: '直达' },
              { value: 310, name: '邮件营销' },
              { value: 234, name: '联盟广告' },
              { value: 135, name: '视频广告' },
              { value: 1048, name: '百度' },
              { value: 251, name: '谷歌' },
              { value: 147, name: '必应' },
              { value: 102, name: '其他' }
            ]
          }
        ]
      };

      pieChart.setOption(option, true);
    </script>

    <h2>南丁格尔玫瑰图</h2>
    <div id="NightingaleRoseDiagram" style="height:600px"></div>
    <script>
      // 基于准备好的 DOM 初始化 echarts 实例
      var NightingaleRoseDiagram = echarts.init(document.getElementById('NightingaleRoseDiagram'), 'macarons8');
      // 指定图表的配置项和数据
      option = {
        aria: {
          show: true
        },
        title: {
          text: '南丁格尔玫瑰图',
          subtext: '纯属虚构',
          left: '150'
        },
        legend: {
          orient: 'vertical',
          left: 20,
          data: ['rose1', 'rose2', 'rose3', 'rose4', 'rose5', 'rose6', 'rose7', 'rose8']
        },
        series: [
          {
            name: '半径模式',
            type: 'pie',
            radius: [20, 110],   // 环形图
            center: ['25%', '50%'],   // 图形圆心定位
            roseType: 'radius',   // 展示成南丁格尔图，'radius' 模式使用扇区圆心角展现数据的百分比，半径展现数据的大小
            label: {
              show: false
            },
            emphasis: {
              label: {
                show: true
              }
            },
            data: [
              { value: 10, name: 'rose1' },
              { value: 5, name: 'rose2' },
              { value: 15, name: 'rose3' },
              { value: 25, name: 'rose4' },
              { value: 20, name: 'rose5' },
              { value: 35, name: 'rose6' },
              { value: 30, name: 'rose7' },
              { value: 40, name: 'rose8' }
            ]
          },
          {
            name: '面积模式',
            type: 'pie',
            radius: [30, 110],
            center: ['75%', '50%'],
            roseType: 'area',   // 展示成南丁格尔图，'area' 模式所有扇区圆心角相同，仅通过半径展现数据大小。
            data: [
              { value: 10, name: 'rose1' },
              { value: 5, name: 'rose2' },
              { value: 15, name: 'rose3' },
              { value: 25, name: 'rose4' },
              { value: 20, name: 'rose5' },
              { value: 35, name: 'rose6' },
              { value: 30, name: 'rose7' },
              { value: 40, name: 'rose8' }
            ]
          }
        ]
      };

      NightingaleRoseDiagram.setOption(option, true);
    </script>
  </article>

</body>

</html>