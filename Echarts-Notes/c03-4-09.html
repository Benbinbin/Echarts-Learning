<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>4.9 饼图</title>
  <script src="js/echarts.js"></script>
  <script src="js/chalk.js"></script>
  <script src="js/macarons8.js"></script>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <aside>
    <div class="top">
      <a href="#" target="_self">&lt; top</a>
    </div>
  </aside>

  <article class="container">
    <h1>饼图</h1>
    <hr>
    <h2>饼图与环形图（嵌套）</h2>
    <div id="pieChart" style="height:600px"></div>
    <script>
      // 基于准备好的 DOM 初始化 echarts 实例
      var pieChart = echarts.init(document.getElementById('pieChart'), 'chalk');
      // 指定图表的配置项和数据

      option = {
        aria: {
          show: true
        },
        legend: {
          orient: 'vertical',   // 垂直排列多个图例
          left: 20,
        },
        series: [
          // 嵌套图形，两个系列列表，需要数据相对应（两个图的细分与总计顺序）
          // 内部饼图
          {
            name: '访问来源',
            type: 'pie',   // 图标类型为饼图
            selectedMode: 'single',   // 可选择模式，默认为 'false' 不可选，'single' 可单选，'multiple' 可多选
            radius: [0, '30%'],   // 内部饼图半径
            label: {
              position: 'inner'
            },
            data: [
              { value: 335, name: '直达', selected: true },
              { value: 679, name: '营销广告' },
              { value: 1548, name: '搜索引擎' }
            ]
          },
          // 外部环形图
          {
            name: '访问来源',
            type: 'pie',
            radius: ['40%', '55%'],   // 外部环形图半径，从 40% 开始绘制到 55%
            // 标记
            label: {
              // show: false,
            },
            // 标记线
            labelLine: {
              show: true,
              length: 25,   // 第一根标记线
              length2: 20   // 第二根标记线
            },
            data: [
              { value: 335, name: '直达' },
              { value: 310, name: '邮件营销' },
              { value: 234, name: '联盟广告' },
              { value: 135, name: '视频广告' },
              { value: 1048, name: '百度' },
              { value: 251, name: '谷歌' },
              { value: 147, name: '必应' },
              { value: 102, name: '其他' }
            ]
          }
        ]
      };

      pieChart.setOption(option, true);
    </script>

    <h2>南丁格尔玫瑰图</h2>
    <div id="NightingaleRoseDiagram" style="height:600px"></div>
    <script>
      // 基于准备好的 DOM 初始化 echarts 实例
      var NightingaleRoseDiagram = echarts.init(document.getElementById('NightingaleRoseDiagram'), 'macarons8');
      // 指定图表的配置项和数据
      option = {
        aria: {
          show: true
        },
        title: {
          text: '南丁格尔玫瑰图',
          subtext: '纯属虚构',
          left: '150'
        },
        legend: {
          orient: 'vertical',
          left: 20,
          data: ['rose1', 'rose2', 'rose3', 'rose4', 'rose5', 'rose6', 'rose7', 'rose8']
        },
        series: [
          {
            name: '半径模式',
            type: 'pie',
            radius: [20, 110],   // 环形图
            center: ['25%', '50%'],   // 图形圆心定位
            roseType: 'radius',   // 展示成南丁格尔图，'radius' 模式使用扇区圆心角展现数据的百分比，半径展现数据的大小
            label: {
              show: false
            },
            emphasis: {
              label: {
                show: true
              }
            },
            data: [
              { value: 10, name: 'rose1' },
              { value: 5, name: 'rose2' },
              { value: 15, name: 'rose3' },
              { value: 25, name: 'rose4' },
              { value: 20, name: 'rose5' },
              { value: 35, name: 'rose6' },
              { value: 30, name: 'rose7' },
              { value: 40, name: 'rose8' }
            ]
          },
          {
            name: '面积模式',
            type: 'pie',
            radius: [30, 110],
            center: ['75%', '50%'],
            roseType: 'area',   // 展示成南丁格尔图，'area' 模式所有扇区圆心角相同，仅通过半径展现数据大小。
            data: [
              { value: 10, name: 'rose1' },
              { value: 5, name: 'rose2' },
              { value: 15, name: 'rose3' },
              { value: 25, name: 'rose4' },
              { value: 20, name: 'rose5' },
              { value: 35, name: 'rose6' },
              { value: 30, name: 'rose7' },
              { value: 40, name: 'rose8' }
            ]
          }
        ]
      };

      NightingaleRoseDiagram.setOption(option, true);
    </script>
  </article>

</body>

</html>